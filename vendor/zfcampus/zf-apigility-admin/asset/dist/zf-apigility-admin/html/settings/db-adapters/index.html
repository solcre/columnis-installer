<ag-include src="html/settings/db-adapters/new-adapter-form.html"></ag-include>

<div class="ag panel-group tooltip-api">
  <ag-collapse class="panel-info" ng-repeat="dbAdapter in dbAdapters" active="{{ activeAdapter == dbAdapter.adapter_name }}" name="{{ dbAdapter.adapter_name }}" searchparam="adapter" conditionals="{{ {edit: inEdit, delete: false} }}">
    <collapse-header>
      <h4 class="panel-title">
        <i class="glyphicon glyphicon-book"></i>

        {{ dbAdapter.adapter_name }}

        <div class="btn-group pull-right">
            <button type="button" title="Cancel" class="btn btn-sm btn-default" collapse-button="" criteria="{delete: false, edit: true}" ui-sref="ag.settings.db-adapters({ edit: null})" ui-sref-options="{ notify: false }">
                Cancel
            </button>

            <button type="button" class="btn btn-sm btn-success" title="Edit adapter" collapse-button="" criteria="{delete: false, edit: false}" ui-sref="ag.settings.db-adapters({ edit: true})" ui-sref-options="{ notify: false }">
                <i class="glyphicon glyphicon-edit"></i>
            </button>

            <button type="button" class="btn btn-sm btn-danger" title="Remove adapter" collapse-flag="" flags="{delete: true}" collapse-button="" criteria="{delete: false}">
                <i class="glyphicon glyphicon-trash"></i>
            </button>
        </div>
      </h4>

      <div class="clearfix"></div>

      <span collapse-show="" criteria="{delete: false}" default-template="'html/empty-content.html'" toggled-template="'html/settings/db-adapters/remove.html'"></span>
    </collapse-header>

    <collapse-body>
        <div collapse-show="" criteria="{edit: false}" default-template="'html/settings/db-adapters/view.html'" toggled-template="'html/settings/db-adapters/edit.html'"></div>
    </collapse-body>
  </ag-collapse>
</div>